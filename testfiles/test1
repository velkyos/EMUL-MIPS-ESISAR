# a <= $4, b <= $5, c <= $6, n <= $8 
ADDI $4, $0, 0x18
ADDI $5, $0, 18
ADDI $8, $0, 3

# c = a(a+b) % 2³²
ADD $6, $4, $5 # some comments
MULT $6, $4
MFLO $10 # lower 32 bits
MFHI $11 # higher 32 bits

# c = |c|
BLEZ $11, 6
    ADDI $12, $0, 0xFFF # more comments
    XOR $10, $10, $12
    ADDI $10, $10, 1
    XOR $11, $11, $12
    ADDI $11, $11, 1
ADD $6, $0, $10
BEQ $10, $0, 13 
ADDI $10, $10, -1

# c = c/n
DIV $6, $8
MFLO $6
SW $6, 0x9($0) # $9 <= $6
ADDI $16, $0, 15
AND $17, $6, $16
OR $18, $17, $11
LUI $17, 23
ROTR $19, $17, 6
J 14 # still some comments
SLL $20, $6, 3
SRL $21, $17, 5
SUB $22, $21, $20
SW $13, 0x1($22)
LW $14, 0x1($20)
ADDI $14, $14, 0x42
ADDI $13, $13, 0x16
SLT $7, $13, $14 # suprise, another comment
BNE $7, $0, 2
NOP

# EXPECTED

# 20040018
# 20050012
# 20080003
# 00853020
# 00C40018
# 00005012
# 00005810
# 19600006
# 200C0FFF
# 014C5026
# 214A0001
# 016C5826
# 216B0001
# 000A3020
# 114A000D
# 214AFFFF
# 00C8001A
# 00003012
# AC060009
# 2010000F
# 00D08824
# 022B9025
# 3C110017
# 03250562
# 0800000E
# 0006A0C0
# 0011A942
# 02B4B022
# AECD0001
# AE8E0001
# 21CE0042
# 21AD0016
# 01AE382A
# 14E00002
# 00000000